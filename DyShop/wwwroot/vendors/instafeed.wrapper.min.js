var InstafeedWrapper=function(k){function e(b,a){this.container=b;this.ID=this.container.getAttribute("id");this.instance=g[this.ID]=new k(this._overrideOptions(a));this.instance.run();f(this.container,"ifw-container-loading");this._initLoadMoreControl()}function f(b,a){b.className=b.className+" "+a;return b}var g={},d={};e.prototype._overrideOptions=function(b){var a=this.container.dataset;b.target=this.ID;b=this._admixCallbacks(b);for(var c in a)if("user"==c)if(a[c]in d)for(var h in d[a[c]])b[h]=
d[a[c]][h];else throw Error("The secure options for user "+a[c]+" isn't set.");else b[c]=a[c];return b};e.prototype._admixCallbacks=function(b){var a=this,c=b.after;b.after=function(){if(!a._initialized){var b=a.container;b.className=b.className.replace("ifw-container-loading","");a._initialized=!0}a.loadMoreControl&&a.loadMoreControl.dataset.ifwLoadingContent&&a.loadMoreControl.dataset.ifwBaseText&&(a.loadMoreControl.textContent=a.loadMoreControl.dataset.ifwBaseText);!this.hasNext()&&a.loadMoreControl&&
(a.loadMoreControl.setAttribute("disabled","disabled"),f(a.loadMoreControl,"ifw-disabled"),a.loadMoreControl.dataset.ifwDisabledContent&&(a.loadMoreControl.textContent=a.loadMoreControl.dataset.ifwDisabledContent));c&&c.apply(this,Array.prototype.slice(arguments,0))};return b};e.prototype._initLoadMoreControl=function(){var b=this.container.dataset.loadMoreControl,a=this;if(!b)return this;this.loadMoreControl=document.getElementById(b);if(!this.loadMoreControl)return this;this.loadMoreControl.dataset.ifwBaseText=
this.loadMoreControl.textContent;this.loadMoreControl.addEventListener("click",function(b){a.instance.next();this.dataset.ifwLoadingContent&&(this.textContent=this.dataset.ifwLoadingContent);b.preventDefault()},!1);return this};return{init:function(b,a){a=a||{};Array.prototype.forEach.call(b,function(b,d,f){if(b.getAttribute("id")in g)throw Error("One of the specified containers duplicates an existing ID.");if(!b.hasAttribute("id"))throw Error("One of the specified containers doesn't have a unique ID.");
new e(b,a)})},setUsersSecureOptions:function(b){for(var a in b){if(a in d)throw Error("The secure options for user "+a+" is already set.");if(!("userId"in b[a]&&"accessToken"in b[a]&&"clientId"in b[a]))throw Error('You must specify "userId", "accessToken" and "clientId" option for each user.');d[a]=b[a]}}}}(window.Instafeed);
